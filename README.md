# test-task-green-api
## Инструкция по развёртыванию
1. Клонируем репозиторий
2. Переходим в папку с репозиторием
3. npm i
4. docker-compose up -d
5. Открываем api: http://localhost:3000/api-docs
## Алгоритм работы
1. Метод /createtask: server1 создаёт задание, записывает его в mongo со статусом wait и отправляет в очередь
2. server2 слушает очередь с новыми заданиями, принимает задание и меняет его статус на success
3. server2 отправляет выполненное задание в очередь с выполненными заданиями
4. server1 слушает очередь выполненных заданий, получает задание и меняет его статус в mongo
5. Метод /gettaskbyid: server1 возвращает клиенту задание по его Id
6. Метод /getalltasks: server1 возвращает клиенту все задания
